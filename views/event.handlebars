<script src="/js/event.js" type="text/javascript"></script>


<div class="container-fluid" id="event-background">
    <div class="row">
        <div class="col-lg-2"></div>
        <div class="col-lg-8">
            {{!-- <div class="event-content">
                <h3>{{name}}</h3>
                <h4>{{date}}</h4>
                <p>Event description: {{description}}</p>
                <div class="event-spacer event-page-spacer"></div>
            </div> --}}
            <div class="card event-content">
                {{!-- <img class="card-img-top" src="..." alt="Card image cap"> --}}
                <div class="card-body">
                    <h3 class="card-title">{{Event.name}}</h3>
                    <p class="card-text">{{moment date "dddd, MMMM Do YYYY"}}</p>
                    <p class="card-text">{{moment date "h:mm A"}}</p>
                    <p class="card-text">{{description}}</p>
                    <p class="card-text">{{Event.location}}</p>
                    <div>
                        <iframe
                            width="100%"
                            height="400"
                            max-width="600"
                            max-height="400"
                            frameborder="0" style="border:0"
                            src="https://www.google.com/maps/embed/v1/place?key=AIzaSyCgAWPuwUw7EMTiZhCSzc0GZxD8FBD2Om4
                            &q={{Event.location}}
                            &attribution_source=Google+Maps+Embed+API">
                        </iframe>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8 attendee-area">
                        Attendees:
                      
                        <div class="row">
                            {{#each Event.Attendees}}
                            <div class="col-lg-3 attendee">
                                <p class="attendee-name">{{name}}</p>
                                <p>{{description}}</p>
                            </div>
                            
                            {{/each}}
                            {{#each Event.Users}}
                            <div class="col-lg-3 attendee">
                                <p class="attendee-name">{{name}}</p>
                            </div>
                            {{/each}}
                        </div>
                           
                    </div>
                    <div class="col-lg-4 attendee-area">
                        {{#if ../user}}
                        <button id="userAttendee" type="button" class="btn btn-success" data-eventId="{{id}}" data-userId="{{../user.id}}">I'm Coming Too!</button>
                        {{/if}}
                        {{#unless ../user}}
                        <form id="newEventAttendee" class="needs-validation" data-id="{{id}}" novalidate>
                            <div class="form-group">
                                <label for="name">Name:</label>
                                <input placeholder="Rick James" type="text" class="form-control" id="name" pattern="[A-Za-z]{2,30}" required>
                                <div class="invalid-feedback">
                                Invalid name.
                                </div>
                                <br>
                                <label for="description">Phone:</label>
                                <input placeholder="888-888-8888" class="form-control" rows="4" id="description" pattern="\d{3}-\d{3}-\d{4}" required>
                                <div class="invalid-feedback">
                                Invalid phone.
                                </div>
                                <br>
                                <button type="submit" class="btn btn-success submit">I'm Coming Too!</button>
                            </div>
                        </form>
                        {{/unless}}
                    </div>
                </div>
                
            </div>
        </div>
        <div class="col-lg-2"></div>
    </div>
</div>